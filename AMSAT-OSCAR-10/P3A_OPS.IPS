( OPERATIONAL A0-10 SOFT, 7-86 FUER IPS-C4, HIER = #1D92 )      : *F VERT DUP <0 JA?   CHS P* CHS                                                NEIN: P*                                                        DANN  VERT WEG ;                               39798 KON KORR                                                  10430 KON 1RAD                                                  #4000 KON C/4                                                                                                                   : R>P  C/4 ZWO <0 JA?   CHS RDU CHS VERT                                          NEIN: RDU VERT CHS                                              DANN 0 RP-LOOP WEG  UE2 0  KORR *F VERT ;     : T-R  C/4 ZWO <0 JA?   + RDU VERT CHS                                            NEIN: - RDU CHS VERT                                            DANN 0 TR-LOOP KORR *F RDU KORR *F RDU WEG ;  : /A/  DUP <0 JA? CHS DANN ;                                                                                                    : /N S>R DUP <0 JA?   CHS 1RAD P* R>S P/ CHS                                    NEIN: 1RAD P*  UE2 0  R>S P/                                    DANN ;                                                                                                          : 3P>R ( R,L,B -> X,Y,Z )                                         VERT RDU 0 VERT T-R RDU 0 RDO T-R RDO ;                                                                                                                                                       : 3R>P ( X,Y,Z -> R,L,B )                                         RDU R>P RDU VERT R>P RDO VERT ;                               : PROJECTION ( LP,BP,LN,BN -> C/4*COS{ PR }, L,B )                C/4 - S>R C/4 + RDO ZWO - RDO C/4 RDU 3P>R I T-R WEG 0          R>S CHS T-R 3R>P S>R RDO + R>S ;                              HIER 10 + $H !                                                                                                                                                                                  : A.B ( LA,BA, LB,BB -> C/4.COS )                                 S>R S>R VERT R>S - VERT C/4 RDU 3P>R RDO VERT C/4 R>S -         T-R RDU PWEG ;                                                : AXB ( LA,BA,LB,BB -> C/4.SIN,LC,BC )                            C/4 - ZWO S>R S>R RDO VERT - VERT C/4 RDU 3P>R RDO VERT I           CHS T-R WEG CHS VERT 0 R>S                                      T-R RDU VERT RDO 3R>P VERT R>S + VERT ;                   HIER 12 + $H !                                                  : -R3 0 2 JE S>R RDO R>S - RDU NUN ;                            : +R3 0 2 JE S>R RDO R>S + RDU NUN ;                            : -P3 3P>R 3V3 3P>R 3V3 -R3 3R>P ;                              : +P3 3P>R 3V3 3P>R 3V3 +R3 3R>P ;                              : @L3     2 + @ ;    HIER 4 + $H !                              : @B3     4 + @ ;                                               : @LB3    DUP @L3 VERT @B3 ;                                     ( ENDE SPHAERISCHE TRIGONOMETRIE )                             ( PHASE 3 NAVIGATION UND ZEITBESTIMMUNG )                       20605 KON B/F                                                    6242 KON ES                                                    25717 KON A/F                                                     -14 KON KO     ( ORBIT VON AO-10, 7-86 )                         24 KON KW                                                    18257 KON JZ0                                                   22700 KON TOR                                                   #0460 KON MAGNET                                                                                                                    0 VAR BETA      HIER 4 + $H !                               13340 VAR RECTAS ( LONGITUDE OF ASCENDING NODE - RECTASCENSION ) 4780 VAR INCL   ( INCLINATION         )                        22450 VAR PERIGA ( ARGUMENT OF PERIGEE )                            0 VAR TAU    ( POSITION OF S/C IN ORBIT )                       0 VAR L0                                                        0 VAR MSW                                                       0 VAR TR-P                                                      0 VAR Z-ALT                                                     0 VAR RADIUS                                                    1 VAR Z-MARKE                                                                                                                                                                                                                                               6 FELD SV    ( SPIN-VECTOR )                                    1 VAR  PSK-AKTIV               HIER 4 + $H !                    6 FELD T-AUX                                                    6 FELD SONNE                                                    6 FELD H                                                        6 FELD SSV                                                                                                                                                                                      : Z>R,T  DUP                                                      ANFANG DUP DUP ES 0 RDO T-R VERT S>R - ( PHI-0 )                  RDO VERT ZWO VERT - ( D-PHI ) 1RAD R>S - /N S>R                 VERT I + R>S /A/ 12 <                                         ENDE? VERT  UE2 0   WEG ( E AUF STACK )                       1RAD 0 RDO T-R B/F *F VERT ES - A/F *F VERT R>P ;                                                                                                                                               : KT:BAHN>SVR ( L,B -> L,B )                                      VERT SV @L3 - C/4 - VERT C/4 RDU 3P>R SV @B3 C/4 - T-R          3R>P RDO WEG ;                                                                                                                : KT:AEQ>BAHN ( L,B -> L,B )                                      VERT RECTAS @ - C/4 RDU VERT 3P>R INCL @ CHS T-R 3R>P VERT      PERIGA @ - VERT RDO WEG ;          $H INCR                                                                                    : KT:BAHN>AEQ ( L,B -> L,B )                                      VERT PERIGA @ + VERT C/4 RDU 3P>R INCL @ T-R 3R>P VERT          RECTAS @ + VERT RDO WEG ;                                                                                                     : H-LOCAL ( PL,PB,RADIUS,TAU -> ABS{H},HL,HB )                    VERT S>R S>R VERT I - VERT C/4 RDU 3P>R R>P S>R ( GAMMA )       CHS #8000 *F 0 R>S T-R 3R>P VERT R>S + VERT ( L UND B )         RDO 1904 P* I P/ 1000 P* I UE2 0 P/ 200 P* R>S P/ RDU ;                                                                       ( RADIUS: 1000 UNITS/EARTH RADIUS                                 ABS{H}: 1 UNIT = 10-4 G )                                                                                                     : S-LOC ( MSW -> LS,BS )                                          DUP 349 ( 2E ) 0 RDO 18679 ( POSITION OF EARTH PERIGEE )        - T-R VERT WEG - ( TAU-E ) C/4 VERT 0 3P>R 4267 ( 23.44 DEG )   T-R 3R>P RDO WEG ;                                                                                                            : M-LOC  ( L0 -> LM,BM )                                          #C71C + 14290 ;                                                                                                               : TIME-REFERENCES  ( DELIVERS MSW, L0 ) UHR T-AUX 6 >>>           0 1 3 JE T-AUX I + @B UE2 0 NUN 1800 * VERT 30 * + VERT 2 / +   43200 P/ ( TW ) DUP T-AUX 4 + @ 4748 P/ 13 * JZ0 +              ( TW, JW ) DUP #8000 + RDU + ( MSW, L0 ) ;                                                                                    : ORTSDATEN Z @B 256 * Z>R,T TAU ! RADIUS ! TIME-REFERENCES       L0 ! DUP MSW ! S-LOC KT:AEQ>BAHN C/4 RDU SONNE !3  UE2 0        L0 @ M-LOC KT:AEQ>BAHN RADIUS @ TAU @ H-LOCAL H !3 ;                                                                                                                                                                                                                                                                          : A-CONTROL                                                       SSV @3 SV @3 -P3 RDO WEG ( DELTASPIN AUF STACK ) H @LB3 AXB     RDO WEG SV @LB3 PROJECTION CHS VERT #8000 + VERT RDO WEG (MB)   PDUP KT:BAHN>SVR WEG ( B=0 ) SONNE @LB3 KT:BAHN>SVR WEG -       256 / MAGNET 1 + !B                                             H @LB3 AXB 3P>R 0 2 JE  UE2 0  TOR *F H @ *F RDU NUN            SV @3 3P>R +R3 3R>P SV !3 ; ( NEUER SPINVEKTOR UNGEFAEHR )                                                                    : NAVIGATION   Z-ALT @B Z @B <> DUP Z-MARKE !                     JA? Z @B DUP Z-ALT !B =0                                            JA? ( STOERUNGEN ANBRINGEN ) RECTAS @ KO + RECTAS !                 PERIGA @ KW + PERIGA !                                      DANN ORTSDATEN MAGNET @B ( AN ? )                               JA? A-CONTROL                                                   DANN                                                        DANN ;            ( ENDE ZEIT & NAV )                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         ( OPERATIONS SOFTWARE AO-10 7-86, REV.0 )                       ( BCR )                                                         0   VAR E-FLAGS ( B0=LP, B1=ELP, B2= CMD-LOSS, B3=HI-T, B4=SA> )    HIER 3 + $H !                                               170 KON LOW     ( 12 VOLT )                                     156 KON ELOW    ( 11 VOLT )                                     76  KON UBS     ( BATTERY SET LEVEL FOR 13.82 V @ 25 C )        130 KON UPS     ( S-ARRAY SET LEVEL FOR 27.80 V @ 25 C )                                                                        ( CMD-ASSIST & UEBERWACHEN )                                    CMD#  @ VAR CMD#-ALT                                            Z 1 + @ VAR O#-LC                                               0    VAR M-EIN                                                  0    VAR MZEITGRENZE                                            #45E KON TRANSPONDER                                                                                                            80   KON WARTE-ORBITS                                           209  KON T-LIMIT ( 45 C )                                       70   KON TOP-LIMIT              HIER 8 + $H !                   70   KON BOT-LIMIT                                              16  FELD CMD-ASSIST-VEKTOR                                      16  FELD TR-VEKTOR                                                                                                                                                                              ( BEACONS )                                                     0     VAR EB-FLAG                                               0     VAR EB-COUNT                                              0     VAR SEGMENT                                               0     VAR MIN-ALT                                               #0200 VAR LA-PTR   ( VORMALS $GBU )                             #0200 VAR LE-PTR                 HIER 10 + $H !                                                                                 #047E KON EVENT                                                 #03FF KON $LBUE                                                 #0200 KON LLAENGE                                               #3800 KON $KBU                                                  #3A00 KON $LBU                                                  #3C00 KON $MBU                                                  #3E00 KON $NBU                                                                                                                  ( TRANSPONDER )                                                 1    VAR UL-ST-ON                                               #48  VAR L-TAGE                                                                                                                                                                                                                                                                                                                                                                                 : BCR-SERVICE   Z-MARKE @                                          JA? UBS #416 @B (T-B1) #41A @B (T-B2) + 39  UE2 0  * 100 / -        UPS #422 @B (T-P1) #426 @B (T-P3) #42A @B (T-P5) + +            7 * 25 / - 1 E-FLAGS TBIT JA? PWEG 203 245 (13.9 / 28 V)                                  DANN                                  4 !2M 5 !2M                                                 DANN ;                                                                                                                       : BCR-FAULT  #400 @B (U-IN) 150 > #41B @B (I-IN) 60 > ODER               #40C #446 @B JA? WEG RUMPELSTILZCHEN UE2 0 #410 (OSC.1)                      DANN @B 10 < UND ;                                                                                        : BCR-TEST  BCR-FAULT JA? 0 3000 JE NUN BCR-FAULT                                         JA? #446 @B 1 EXO 6 !2M                                         DANN                                                        DANN ;                                                                                                    : COMM-MODUS ( POWERLESS ANTENNA AND L/U SWITCHOVER, EXPECTS      DESIRED 2MUX1 STATE ON STACK )                                  TRANSPONDER @B #81 TRANSPONDER !B MAGNET @B                     3 MAGNET !B 0 1000 JE NUN ( .4 SEC ) RDO 1 !2M 0 500            RUMPELSTILZCHEN UE2 0 JE NUN                                    ( .2 SEC ) MAGNET !B TRANSPONDER !B ;                                                                                         : SENSOREN Z-MARKE @                                                 JA? #44D #44F JE I 6 + @B JA? 0 I 6 + !B Z @ I ! DANN                       2 +NUN  ( ZEITMARKIERUNG LETZTE ES-AKTIVITAET )     DANN ;                                                                                                                                                                                                                                                                                                                     ( WRITE UTILITIES )                                             : EPOS  $EBU + SP ! ;                                           : W99   10 BASIS ! DUP 10  UE2 0  < JA? " 0 " DANN WAND ;       : D-WAND DUP 0 < JA? CHS " - " DANN 10 /MOD VERT WAND                   " . " WAND ;                                            : ZEIGZEIT UHR 1 + T-AUX 4 >>>                                       0 1 JE T-AUX 2 + I - @B W99 " : " NUN T-AUX @B W99 ;                                                                       : LUPDATE DUP  UE2 0  @ 128 + DUP $LBUE > JA? LLAENGE -                                                   DANN VERT ! ;                                                                         : LOG     EVENT INCR #400 LE-PTR @ 128 >>> LE-PTR LUPDATE ;                                                                                                                                                                                                                                                                     ( EB-BLOCKGENERATOREN )                                         : EB-VORSPANN                                                       0 EPOS 512 LEERZ  " Q  HI, THIS IS AMSAT OSCAR 10 "             48 EPOS ZEIGZEIT 58 EPOS #46C  UE2 0  @ WAND 16 BASIS !         #40 EPOS CMD# @ #45E @B E-FLAGS @ 256 * #456 @B +               0 2  JE WAND "     " NUN   10 BASIS !                           0 6  JE I #440 + @B I DUP + DUP + #80 + EPOS WAND                    NUN ;                                                                                                                  : QBLOCK   EB-VORSPANN   UE2 0                                     #400 $EBU #180 + #80 >>> LA-PTR @ $EBU #100 + #80 >>>           LA-PTR LUPDATE ;                                                                                                             : TRANSFER    $EBU 512 L>>> ;                                                                                                                                                                   : UEBERWACHEN   Z-MARKE @                                          JA? 1 E-FLAGS TBIT NICHT                                           JA? BCR-TEST #404 @B (U-BAT) DUP LOW < E-FLAGS @B EXO                      JA? E-FLAGS @B 1 EXO E-FLAGS !B LOG  UE2 0                      DANN                                                     ELOW < JA? 0 E-FLAGS CBIT 1 E-FLAGS SBIT LOG                           DANN                                                 DANN ( COMMAND-ASSIST ) CMD#-ALT @ CMD# @ <>                    JA? CMD# @ CMD#-ALT ! Z 1 + @ ( O# ) O#-LC !                    DANN Z 1 + @ O#-LC @ - WARTE-ORBITS > 2 E-FLAGS TBIT            NICHT UND JA? CMD-ASSIST-VEKTOR TR-VEKTOR 16 >>>                              #7F L-TAGE !B 2 E-FLAGS SBIT                                DANN   #406 @B T-LIMIT > (T-TX-U)                     #40E  UE2 0  @B T-LIMIT > (BCR) ODER                            #425 @B T-LIMIT > (T-TX-L) ODER 3 E-FLAGS TBIT NICHT UND        JA? LOG 3 E-FLAGS SBIT                                          DANN                                                            4 E-FLAGS TBIT NICHT                                            JA? #414 @B TOP-LIMIT > #418 @B BOT-LIMIT > ODER                    JA? LOG 4 E-FLAGS SBIT                                          DANN                                                        DANN                                                         DANN ;                                                                                                                       : UL-ST  Z-MARKE @ UL-ST-ON @ UND                                  JA? 0 14 JE  UE2 0                                                          TR-VEKTOR I + DUP @ =0 NICHT VERT @B Z @B = UND                 JA? TR-VEKTOR I + 1 + @B DUP #08 UND =0 UHR 4 +                     @ 7 MOD L-TAGE TBIT ODER                                        JA? DUP #C0 UND TRANSPONDER @B #3F UND ODER                         TRANSPONDER !B (PASSB. CTRL)                                    #0F UND DUP #441 @B <>                                          JA? DUP COMM-MODUS                                              DANN                                                        DANN WEG                                                    DANN                                                       2   RUMPELSTILZCHEN UE2 0                                         +NUN  E-FLAGS @ DUP JA? 6 TRANSPONDER SBIT DANN                          #0A UND >0 JA? 7 TRANSPONDER SBIT DANN        DANN ;                                                                                                                       : TRQ-ST Z-MARKE @                                                  JA? E-FLAGS @ #14 UND >0  Z @ MZEITGRENZE @ = ODER                  JA? 0 M-EIN !                                                   DANN Z @B 32 + #FF UND 64 < M-EIN @ UND 1 UND MAGNET !B     DANN ;                                                                      H2INC                                                                                                           : TLM-TN   PSK-AKTIV @                                              JA?  EB-COUNT @ DUP 1 + 8 MOD EB-COUNT !                             DUP JA?   QBLOCK WEG                                                NEIN: #100 * $KBU + TRANSFER                                    DANN ETRANSMIT                                         DANN ;                                                      1 PSK-AKTIV !                                                   : NAV-ST  NAVIGATION SENSOREN TRQ-ST ;                          ( UTILITIES )                                                   : TEXT-FUELL $RBU VERT 512 L>>> 1 $P2 !B ;                      : K  $KBU TEXT-FUELL ;       HIER 7 + $H !                      : L  $LBU TEXT-FUELL ;                                          : M  $MBU TEXT-FUELL ;                                          : N  $NBU TEXT-FUELL ;                                          : UL-INST  7 UND DUP + TR-VEKTOR + S>R 256 * + R>S ! ;          : TORQUE  MZEITGRENZE ! SSV !3 SV !3 1 M-EIN ! ;                : TORQUE-OFF  0 M-EIN ! ;                                                                                                       #0720 #0D64 #0775 #87BE #0000 #0000 #0000 #0000 TR-VEKTOR 8 !FK #8500 #8720 #8F40 #8B60 #8580 #87A0 #8FC0 #8BE0                                                       CMD-ASSIST-VEKTOR 8 !FK                                                                   HIER 5 + $H !                                                                                                                   : BAKEN-ST  UHR 2 + @B MIN-ALT @ <>                               JA? UHR 2 + @B DUP MIN-ALT ! 15 /MOD =0                             JA?  SEGMENT ! 0                                                DANN WEG                                                    DANN                                                                                                                                                                                                                                                             1 (VORBES)  TRANSPONDER @B #C0 UND #40 <>                       JA? WEG UHR 2 + @B 15 MOD 10 <                                      JA?   0 EB-FLAG ! #20                                           NEIN: EB-FLAG @ E-FLAGS @  UE2 0  #0A UND =0 UND                      JA?   #09                                                       NEIN: 4 #456 TBIT (LOCK)                                              JA?   #10 SEGMENT @ NICHT JA? 1 EB-FLAG !                                                 DANN                                  NEIN: #20                                                       DANN                                                     DANN                                                       DANN                                                        DANN TRANSPONDER @B #C6 UND ODER TRANSPONDER !B ;                                                                                ( HIER MUSS #2D4D SEIN ! )                                                                                                  