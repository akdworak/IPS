( ROUTINE ZUM LOGGEN VON MEMORY-EVENTS, DB2OS, 22.11.1985  )    0 VAR OLDEVENT                      ( LETZTE EVENT-NUMMER  )    0 VAR MPLINE                        ( OFFSET FUER MPOS     )    : MXD  #94 VBASIS !B ;              ( SCREEN FUER MEMCONDX )    : XPOS #9400 + SP !  ;              ( CURSORPOS. OBEN      )    : MPOS MPLINE @ + #9600 + SP ! ;    ( CURSORPOS. UNTEN     )    : EPOS #8300 + ;                    ( TLM-KANAELE IM EVENT )                                                                    ( DRUCKROUTINE FUER PT88 )                                      CODE SCH  BEGIN #D010 ABS LDA  1 IM ANA Z END                              8 IM LDX  DEY  PS 0@Y LDA  $AF 1 + P0 STA  1 IM LDA        BEGIN $AF 1 + P0 SHL C Y? #04 IM ORA TH #D300 ABS STA                 8 IM LDY BEGIN DEY Z END                                        #02 IM ORA #D300 ABS STA #01 IM LDA 8 IM LDY                    BEGIN DEY Z END #D300 ABS STA DEX                         Z END #D300 ABS STY  (0)  INY  #D300 ABS STY  WNEXT                                                                       : SETUP  #00 SCH #D0 @B #FB UND #D0 !B  0 1000 JE NUN                    #07 #D300 !B  #D0 @B #04 ODER #D0 !B  0 1000 JE NUN  ;                                                                                                                                 : FEHLERTEST  #D300 @B #08 UND =0                                             JA? SYSLINE SP ! " DRUCKERFEHLER! " DV  DANN ;                                                                    : SZEILE  FEHLERTEST DUP 1 - DUP DUP 64 +                                JE I @B #20 <> JA? WEG I DANN NUN                               JE I @B SCH NUN                                                 #0D SCH #0A SCH ;                                                                                                                                                                                                                                                                                                                                                                      : MXMSG  273 XPOS " === LOGGING MEMORY-EVENTS === "                    448 XPOS                                                " Event  Nav, Pos.      Date      UTC-Time     Mem  I10V-C   SA  "  ;                                                                                                                                                                                                                                                            0 VAR PRINTERFLAG           ( 0=DRUCKER AUS   1= DRUCKER EIN )                                                                  : PT88-ON   1 PRINTERFLAG ! ;                                   : PT88-OFF  0 PRINTERFLAG ! ;                                                                                                   : DRUCKE  #9400 #95FF JE I SZEILE 64 +NUN ;                                                                                                                                                     ( SONNENWINKEL BEIM EVENT )                                                                                                     : SUN-A  #48 EPOS @B #47 EPOS @B - #FF UND DUP #80 UND >0                            JA? 256 VERT - -1  NEIN: 1  DANN S>R             DUP 12178 1000 */ VERT DUP DUP * 633 */ - R>S * D-WAND  ;                                                                                                                                                                                                 ( AMSAT-TAG, DATE, UTC-TIME )                                   : EVENTZEIT  #6C EPOS @  DUP  WAND  RDT "    "  WAND " . "                   WAND " . " WAND  "    "  #6B EPOS @B HZ " : "                   #6A EPOS @B HZ " : " #69 EPOS @B HZ  ;                                                                             ( 10V-COMPUTER CURRENT )                                        : EK      ( K# FAC QOUT CO )  S>R RDO EPOS @B R>S 0ADJ RDU */ ; : I10V-C  #0F 4128 1000 15 EK A-WAND  ;                                                                                         ( MEMORY SOFT ERROR COUNTER )                                   : MEMCOUNT  #56 EPOS @B 32 / A-WAND ;                                                                                           : MEMCONDX  #7E EPOS @ OLDEVENT @ >                                         JA? MPLINE @ DUP 64 + 512 >=                                          JA? WEG #9600 #9400 512 L>>> PRINTERFLAG @ JA?                                                     DRUCKE DANN                        0 MPLINE ! 0 MPOS 512 LEERZ                                NEIN: 64 + MPLINE !                                             DANN                                                         #7E EPOS @ DUP OLDEVENT ! 0 MPOS 10 BASIS ! WAND                7 MPOS #66 EPOS @ A-WAND " - " #65 EPOS @B WAND                 18 MPOS EVENTZEIT 43 MPOS MEMCOUNT                              49 MPOS I10V-C 55 MPOS SUN-A                                DANN ;                                                                                                                                                                              : MCONDX-EIN  0 MPLINE ! 0 OLDEVENT !                                         0 XPOS 1024 LEERZ                                               MXMSG                                                           5 EINH MEMCONDX  ;                                L/STOP                                 ( ENDE MEMORY-LOG )                                                                      